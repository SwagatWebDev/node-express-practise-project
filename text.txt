import java.util.List;
import java.util.stream.Collectors;

@Service
public class EventLogService {

    private final EventLogRepository eventLogRepository;

    public PaginationResult<EventLogDto> getEventLog(int page, int size) {
        List<EventLogProjection> eventLogData = eventLogRepository.getEventLogData();

        // Manually perform pagination
        int start = page * size;
        int end = Math.min((page + 1) * size, eventLogData.size());

        List<EventLogDto> eventLogDtos = eventLogData.subList(start, end).stream()
                .map(this::mapToEventLogDto)
                .collect(Collectors.toList());

        // Return the result along with the total count
        return new PaginationResult<>(eventLogDtos, eventLogData.size());
    }

    private EventLogDto mapToEventLogDto(EventLogProjection event) {
        // Your mapping logic here
        return null; // Placeholder
    }
}
