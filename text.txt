public class EventLogProjectionResult implements EventLogProjection {

    private String oldValue;
    private String newValue;
    // Other fields if any

    public EventLogProjectionResult(String oldValue, String newValue) {
        this.oldValue = oldValue;
        this.newValue = newValue;
        // Initialize other fields if any
    }

    @Override
    public String getOldValue() {
        return oldValue;
    }

    @Override
    public String getNewValue() {
        return newValue;
    }

    // Implement other methods if necessary
}

// Modify the method
private EventLogProjectionResult pickRecordWithMinAndMaxValues(
        List<EventLogProjection> events,
        Function<EventLogProjection, String> oldValueExtractor,
        Function<EventLogProjection, String> newValueExtractor) {

    EventLogProjection minOldValueEvent = events.stream()
            .min(Comparator.comparing(
                    oldValueExtractor,
                    Comparator.nullsLast(Comparator.naturalOrder()))
                    .thenComparing(
                            EventLogProjection::getEventCreatedDate,
                            Comparator.nullsLast(Comparator.naturalOrder())))
            .orElseThrow(); // Handle as per your logic

    EventLogProjection maxNewValueEvent = events.stream()
            .filter(event -> Objects.equals(oldValueExtractor.apply(event), minOldValueEvent.getOldValue()))
            .max(Comparator.comparing(
                    newValueExtractor,
                    Comparator.nullsLast(Comparator.naturalOrder()))
                    .thenComparing(
                            EventLogProjection::getEventCreatedDate,
                            Comparator.nullsLast(Comparator.naturalOrder())))
            .orElseThrow(); // Handle as per your logic

    return new EventLogProjectionResult(minOldValueEvent.getOldValue(), maxNewValueEvent.getNewValue());
}

// Usage
return groupedByNameAndPathAndDay.values().stream()
        .map(events -> pickRecordWithMinAndMaxValues(
                events,
                EventLogProjection::getOldValue,
                EventLogProjection::getNewValue))
        .map(this::mapToEventLogDto)
        .collect(Collectors.toList());
