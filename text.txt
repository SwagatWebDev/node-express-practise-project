private EventLogDto mapToEventLogDto(EventLogProjection event) {
    EventLogDto eventLogDto = new EventLogDto();
    eventLogDto.setName(getUniqueName(event));
    eventLogDto.setEventCreatedDate(event.getEventCreatedDate());
    eventLogDto.setChangedBy(event.getChangedBy());
    eventLogDto.setAssetType(event.getAssetType());
    eventLogDto.setEventType(getEventType(event.getEventType())); // Assuming there was a typo in the original code
    eventLogDto.setNewValue(getProcessedNewValue(event.getNewValue(), eventLogDto.getEventType()));
    eventLogDto.setFullPathName(event.getFullPathName());
    eventLogDto.setOldValue(event.getOldValue());

    return eventLogDto;
}

// Map to store the latest date for each name and path
private Map<String, LocalDateTime> latestDateByPath = new HashMap<>();
private Set<String> namesToRemove = new HashSet<>();

private String getUniqueName(EventLogProjection event) {
    // Check if the path is one of the specified paths
    if (isPathOfInterest(event.getFullPathName())) {
        return getUniqueNameForPath(event.getName(), event.getEventCreatedDate());
    }
    return event.getName();
}

private String getUniqueNameForPath(String name, LocalDateTime eventDate) {
    // Check if the name has already been encountered for the path
    if (latestDateByPath.containsKey(name)) {
        // Compare the dates and update if the current event date is later
        if (eventDate.isAfter(latestDateByPath.get(name))) {
            latestDateByPath.put(name, eventDate);
            namesToRemove.add(name);
            return name;
        } else {
            // Remove the name if the current event date is not later
            namesToRemove.add(name);
        }
    } else {
        // Add the name and date to the map for the path
        latestDateByPath.put(name, eventDate);
        namesToRemove.remove(name);
    }

    return name;
}

private boolean isPathOfInterest(String fullPathName) {
    // Check if the path is one of the specified paths
    return fullPathName != null && (
            fullPathName.equals("/relSolutionToCapability/usageDisposition") ||
            fullPathName.equals("/relSolutionToBusinessCapability/usageDisposition") ||
            fullPathName.equals("/relCapabilityToSolution/usageDisposition")
    );
}
